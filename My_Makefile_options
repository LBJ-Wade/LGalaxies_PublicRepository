# List of Makefile options
# see also routine "check_options" in main.c...

# Options that control I/O
OPT += -DOVERWRITE_OUTPUT    # overwrite output files if they exist (otherwise will quit without overwriting)
OPT += -DNOUT=28             # This sets the number of galaxy output times. IGNORED IN GALAXYTREE MODE. VALUE CORRESPONDS TO NO. OF ROWS READ FROM desired_outputsnaps FILE
#OPT += -DNOUT=1             # This sets the number of galaxy output times. IGNORED IN GALAXYTREE MODE. VALUE CORRESPONDS TO NO. OF ROWS READ FROM desired_outputsnaps FILE

OPT += -DPARALLEL
#OPT += -DGALAXYTREE         # This will enable output of full galaxy merger trees, implicitly sets NOUT to maximum value
#OPT += -DLOADIDS            # Load dbids files
OPT += -DUPDATETYPETWO       # This updates the positions of type 2 galaxies when the galaxies are written to file (requires aux files to be read)\

# To run with different dark matter simulation
#OPT += -DMRII      

# predefined some models (to be run with the corresponding input_***.par file)
#OPT += -DGUO10
#OPT += -DGUO13 
#OPT += -DHENRIQUES13

# Debugging options
#OPT += -DMASS_CHECKS         # Check for mass conservation at every stage of galaxy building


# record star formation histories - used for post-process mags and detailed chemical enrichment
OPT += -DSTAR_FORMATION_HISTORY
ifeq (STAR_FORMATION_HISTORY,$(findstring STAR_FORMATION_HISTORY,$(OPT)))
OBJS  += ./code/star_formation_history.o
endif

###########################
### SPECPHOT_PROPERTIES ###
###########################
OPT += -DCOMPUTE_SPECPHOT_PROPERTIES
ifeq (COMPUTE_SPECPHOT_PROPERTIES,$(findstring COMPUTE_SPECPHOT_PROPERTIES,$(OPT)))
OBJS  += ./code/model_spectro_photometric.o

### POST PROCESS MAGS 
ifeq (STAR_FORMATION_HISTORY,$(findstring STAR_FORMATION_HISTORY,$(OPT)))
OPT += -DPOST_PROCESS_MAGS
ifeq (POST_PROCESS_MAGS,$(findstring POST_PROCESS_MAGS,$(OPT)))
OBJS  += ./code/post_process_spec_mags.o
endif
endif # STAR_FORMATION_HISTORY

OPT += -DPHOTTABLES_PRECOMPUTED     
   
#OPT += -DSPEC_PHOTABLES_ON_THE_FLY
ifeq (SPEC_PHOTABLES_ON_THE_FLY,$(findstring SPEC_PHOTABLES_ON_THE_FLY,$(OPT)))
#OPT += -DFULL_SPECTRA
OPT += -DAB    #AB MAGNITUDES
#OPT += -DVEGA #VEGA MAGNITUDES
OBJS  += ./code/model_spectro_photometric_onthefly_initialize.o
OBJS  += ./code/model_spectro_photometric_onthefly_misc.o
endif



OPT += -DOUTPUT_REST_MAGS    # output rest-frame magnitudes
#OPT += -DCOMPUTE_OBS_MAGS    # compute observer-frame magnitudes
#OPT += -DOUTPUT_OBS_MAGS     # adds observer-frame magnitudes to the standard outptus (either tree or snapshot formats)
#OPT += -DICL                 # output magnitudes for ICL
#OPT += -DOUTPUT_MOMAF_INPUTS # writes out extra files which are std. input files for MoMaF (works both with and without galaxytree option)
#OPT += -DKITZBICHLER         # does MOMAF outputs with forward and backwards k-corrections

### Options that control the Spectral synthesis

OPT += -DM05 #use Maraston 2005 stellar populations need to change input.par
#OPT += -DBC03 #use Bruzual & Charlot 2003 stellar populations need to change input.par
#OPT += -DCB07 #use Charlot & Bruzual 2007 stellar populations need to change input.par

#Define NMAG
ifeq (FULL_SPECTRA,$(findstring FULL_SPECTRA,$(OPT)))
ifeq (M05,$(findstring M05,$(OPT)))
OPT += -DNMAG=1221
endif
ifeq (BC03,$(findstring BC03,$(OPT)))
OPT += -DNMAG=1238
endif
ifeq (CB07,$(findstring CB07,$(OPT)))
OPT += -DNMAG=1221
endif
else #IF NOT DEFINED FULL_SPECTRA -> **** STANDARD RUN ****
OPT += -DNMAG=40
#OPT += -DNMAG=20  #GALTREE
endif #FULL_SPECTRA

endif ### COMPUTE_SPECPHOT_PROPERTIES


